# WhatsApp NG

Дополнение NVDA, предоставляющее улучшения доступности для веб-версии WhatsApp Desktop.

## Возможности

- **Alt+1**: Перейти к списку чатов WhatsApp
- **Alt+2**: Перейти к списку сообщений WhatsApp
- **Alt+D**: Перейти в поле ввода сообщения
- **Enter**: Воспроизвести голосовое сообщение (работает в личных чатах и группах)
- **Shift+Enter**: Открыть контекстное меню сообщения
- **Control+C**: Скопировать текущее сообщение в буфер обмена
- **Control+R**: Прочитать сообщение полностью (при необходимости нажимает кнопку "читать дальше")

### Переключающие скрипты (нет горячей клавиши по умолчанию - настроить в Жестах ввода)

- Переключить фильтрацию номеров телефонов в списке чатов
- Переключить фильтрацию номеров телефонов в списке сообщений
- Переключить автоматический режим фокусировки (позволяет использовать режим обзора при необходимости)

## Требования

- NVDA 2021.1 или новее
- WhatsApp Desktop (веб-версия)

## Установка

1. Скачайте файл `whatsAppNG.nvda-addon`
2. В NVDA выберите **Инструменты → Диспетчер дополнений**
3. Нажмите **Установить** и выберите файл
4. Перезапустите NVDA

## Настройка

Фильтрацию номеров телефонов можно переключать:
- В списке чатов: Настроить горячую клавишу в Жестах ввода
- В списке сообщений: Настроить горячую клавишу в Жестах ввода

Настроить горячие клавиши можно в:
**Меню NVDA → Параметры → Жесты ввода → WhatsApp NG**

## История изменений

### Версия 1.4.0 (2026-02-23)

**Добавлено:**
- Полная языковая поддержка: Арабский, Немецкий, Испанский, Итальянский и Русский
- Обновлён украинский перевод с последними строками

**Исправлено:**
- Ошибка "Текст не найден" в Control+R после нажатия кнопки "читать дальше"
- Control+R теперь работает только с текстовыми сообщениями (показывает "Не текстовое сообщение" для голосовых/изображений)

**Изменено:**
- Ссылки на репозиторий обновлены на новый репозиторий (nunotfc/WhatsAppNG)
- Документация: Все локализованные README теперь включают полную историю изменений до версии 1.3.0

### Версия 1.3.0 (2026-02-07)

**Добавлено:**
- Поддержка турецкого языка
- Опция переключения автоматического режима фокусировки (настроить жест в Жестах ввода)

**Изменено:**
- Улучшена производительность: команды навигации теперь быстрее при повторном использовании
- Клавиша Escape теперь правильно передаётся в WhatsApp

**Исправлено:**
- Enter теперь воспроизводит видеосообщения (ранее работало только для аудио)

### Версия 1.1.1 (2025-01-31)

**Добавлено:**
- Control+R: Прочитать сообщение полностью (автоматически нажимает кнопку "читать дальше")
- Control+C: Скопировать текущее сообщение в буфер обмена
- Автоматическое отключение режима обзора (сохраняет режим фокусировки активным для лучшей работы в WhatsApp)

**Изменено:**
- Улучшены сообщения об ошибках: все скрипты теперь предоставляют чёткий отзыв при сбое
- Команды навигации (Alt+1, Alt+2, Alt+D) теперь молчат при успехе

**Исправлено:**
- Alt+1 и Alt+2 корректно сообщают об ошибках, когда все пути не удаются
- Оптимизирована фильтрация объектов для уменьшения задержки ввода
- Enter: Обнаружение на основе слайдера вместо подсчёта кнопок (более надёжно)

### Версия 1.1.0 (2025-01-30)

**Добавлено:**
- Control+R: Прочитать сообщение полностью
- Умное воспроизведение голосовых сообщений с использованием обнаружения слайдера

**Изменено:**
- Enter: Улучшенная логика с использованием обнаружения слайдера вместо подсчёта кнопок

**Исправлено:**
- Alt+2 теперь правильно пытается все пути навигации, если первая попытка не удалась

### Версия 1.0.0 (2025-01-29)

**Первая версия:**
- Горячие клавиши навигации для списка чатов, списка сообщений и поля ввода
- Воспроизведение голосовых сообщений с поддержкой личных чатов и групп
- Доступ к контекстному меню для действий с сообщениями
- Переключение фильтрации номеров телефонов для чатов и сообщений
- Автоматическая активация режима фокусировки в WhatsApp Desktop

## Благодарности

Разработано Нуну Костой (Nuno Costa) для предоставления улучшений доступности для современного WhatsApp Desktop.

## Поддержка

Для проблем или предложений, пожалуйста, посетите:
https://github.com/nunotfc/whatsAppNG/issues

## Компиляция переводов

Для обновления или компиляции переводов:
```bash
scons pot
```

Для этого требуются установленные инструменты GNU Gettext.
